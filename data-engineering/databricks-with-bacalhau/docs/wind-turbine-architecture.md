# Wind Turbine Data Pipeline Architecture

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              WIND FARM DEPLOYMENTS                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  US-EAST-1 Region                          US-WEST-2 Region                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚   Wind Farm A   â”‚                       â”‚   Wind Farm C   â”‚                    â”‚
â”‚  â”‚  ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸  â”‚                       â”‚  ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸  â”‚                    â”‚
â”‚  â”‚  150 Turbines   â”‚                       â”‚  200 Turbines   â”‚                    â”‚
â”‚  â”‚ [Expanso Nodes] â”‚                       â”‚ [Expanso Nodes] â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚           â”‚                                          â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚   Wind Farm B   â”‚                       â”‚   Wind Farm D   â”‚                    â”‚
â”‚  â”‚  ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸  â”‚                       â”‚  ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸  â”‚                    â”‚
â”‚  â”‚  175 Turbines   â”‚                       â”‚  125 Turbines   â”‚                    â”‚
â”‚  â”‚ [Expanso Nodes] â”‚                       â”‚ [Expanso Nodes] â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚           â”‚                                          â”‚                             â”‚
â”‚           â–¼                                          â–¼                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ Regional Bucket â”‚                       â”‚ Regional Bucket â”‚                    â”‚
â”‚  â”‚   S3: us-east-1 â”‚                       â”‚   S3: us-west-2 â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                                     â”‚
â”‚  EU-WEST-1 Region                          AP-SOUTHEAST-1 Region                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚   Wind Farm E   â”‚                       â”‚   Wind Farm G   â”‚                    â”‚
â”‚  â”‚  ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸  â”‚                       â”‚  ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸  â”‚                    â”‚
â”‚  â”‚  225 Turbines   â”‚                       â”‚  100 Turbines   â”‚                    â”‚
â”‚  â”‚ [Expanso Nodes] â”‚                       â”‚ [Expanso Nodes] â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚           â”‚                                          â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚   Wind Farm F   â”‚                       â”‚   Wind Farm H   â”‚                    â”‚
â”‚  â”‚  ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸  â”‚                       â”‚  ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸ ðŸŒ¬ï¸  â”‚                    â”‚
â”‚  â”‚  300 Turbines   â”‚                       â”‚  150 Turbines   â”‚                    â”‚
â”‚  â”‚ [Expanso Nodes] â”‚                       â”‚ [Expanso Nodes] â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚           â”‚                                          â”‚                             â”‚
â”‚           â–¼                                          â–¼                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ Regional Bucket â”‚                       â”‚ Regional Bucket â”‚                    â”‚
â”‚  â”‚   S3: eu-west-1 â”‚                       â”‚ S3: ap-southeast-1â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           S3 DATA LAKE ARCHITECTURE                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  Scenario-Based Buckets (Global)           Regional Buckets (Per Region)           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ ðŸ“¦ expanso-databricks-raw    â”‚          â”‚ ðŸ“¦ expanso-databricks-       â”‚         â”‚
â”‚  â”‚    â””â”€â”€ raw/                 â”‚          â”‚    regional-us-east-1      â”‚         â”‚
â”‚  â”‚        â””â”€â”€ year=2024/       â”‚          â”‚    â””â”€â”€ regional/          â”‚         â”‚
â”‚  â”‚            â””â”€â”€ month=01/    â”‚          â”‚        â””â”€â”€ year=2024/     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ ðŸ“¦ expanso-databricks-       â”‚          â”‚ ðŸ“¦ expanso-databricks-       â”‚         â”‚
â”‚  â”‚    filtered                 â”‚          â”‚    regional-us-west-2      â”‚         â”‚
â”‚  â”‚    â””â”€â”€ filtered/            â”‚          â”‚    â””â”€â”€ regional/          â”‚         â”‚
â”‚  â”‚        â””â”€â”€ year=2024/       â”‚          â”‚        â””â”€â”€ year=2024/     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ ðŸ“¦ expanso-databricks-       â”‚          â”‚ ðŸ“¦ expanso-databricks-       â”‚         â”‚
â”‚  â”‚    emergency                â”‚          â”‚    regional-eu-west-1      â”‚         â”‚
â”‚  â”‚    â””â”€â”€ emergency/           â”‚          â”‚    â””â”€â”€ regional/          â”‚         â”‚
â”‚  â”‚        â””â”€â”€ alerts/          â”‚          â”‚        â””â”€â”€ year=2024/     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            DATABRICKS UNITY CATALOG                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚                    External Locations & Tables                   â”‚              â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
â”‚  â”‚                                                                 â”‚              â”‚
â”‚  â”‚  ðŸ“ expanso_raw           â†’ s3://expanso-databricks-raw/        â”‚              â”‚
â”‚  â”‚  ðŸ“ expanso_filtered      â†’ s3://expanso-databricks-filtered/   â”‚              â”‚
â”‚  â”‚  ðŸ“ expanso_emergency     â†’ s3://expanso-databricks-emergency/  â”‚              â”‚
â”‚  â”‚  ðŸ“ expanso_regional_us_east_1  â†’ s3://expanso-.../us-east-1/  â”‚              â”‚
â”‚  â”‚  ðŸ“ expanso_regional_us_west_2  â†’ s3://expanso-.../us-west-2/  â”‚              â”‚
â”‚  â”‚  ðŸ“ expanso_regional_eu_west_1  â†’ s3://expanso-.../eu-west-1/  â”‚              â”‚
â”‚  â”‚  ðŸ“ expanso_regional_ap_southeast_1 â†’ s3://expanso-.../ap-se-1/ â”‚              â”‚
â”‚  â”‚                                                                 â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚                      Auto Loader Tables                         â”‚              â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
â”‚  â”‚                                                                 â”‚              â”‚
â”‚  â”‚  ðŸ“Š wind_turbine_raw      (streaming from raw bucket)          â”‚              â”‚
â”‚  â”‚  ðŸ“Š wind_turbine_filtered (streaming from filtered bucket)     â”‚              â”‚
â”‚  â”‚  ðŸ“Š wind_turbine_alerts   (streaming from emergency bucket)    â”‚              â”‚
â”‚  â”‚  ðŸ“Š wind_turbine_us_east  (streaming from regional bucket)     â”‚              â”‚
â”‚  â”‚  ðŸ“Š wind_turbine_us_west  (streaming from regional bucket)     â”‚              â”‚
â”‚  â”‚  ðŸ“Š wind_turbine_eu       (streaming from regional bucket)     â”‚              â”‚
â”‚  â”‚  ðŸ“Š wind_turbine_asia     (streaming from regional bucket)     â”‚              â”‚
â”‚  â”‚                                                                 â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚                    Cross-Region Analytics Views                 â”‚              â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
â”‚  â”‚                                                                 â”‚              â”‚
â”‚  â”‚  ðŸ” wind_turbine_global_view                                   â”‚              â”‚
â”‚  â”‚     UNION ALL data from all regional tables                    â”‚              â”‚
â”‚  â”‚                                                                 â”‚              â”‚
â”‚  â”‚  ðŸ” wind_turbine_performance_dashboard                         â”‚              â”‚
â”‚  â”‚     Aggregated metrics across all regions and scenarios        â”‚              â”‚
â”‚  â”‚                                                                 â”‚              â”‚
â”‚  â”‚  ðŸ” wind_turbine_maintenance_alerts                            â”‚              â”‚
â”‚  â”‚     Real-time alerts from emergency buckets                    â”‚              â”‚
â”‚  â”‚                                                                 â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Details

### 1. Edge Collection (Wind Turbines)
- **1,500+ wind turbines** across 8 wind farms in 4 regions
- Each turbine runs an **Expanso node** with SQLite database
- Collects sensor data: RPM, power output, temperature, vibration, wind speed
- Data stored locally in SQLite with automatic timestamp tracking

### 2. Pipeline Processing
Each Expanso node runs the S3 uploader that:
- Detects its AWS region automatically
- Routes data based on configured pipeline type:
  - **raw**: Unprocessed sensor readings
  - **filtered**: Anomaly detection (high vibration, temperature)
  - **emergency**: Critical alerts requiring immediate action
  - **regional**: Region-specific routing for compliance/latency

### 3. S3 Data Lake
Data is organized with:
- **Time-based partitioning**: year/month/day/hour
- **Parquet format** for efficient columnar storage
- **JSON metadata** files for each batch
- **Lifecycle policies** to move old data to cheaper storage

### 4. Databricks Unity Catalog
Provides unified access through:
- **External Locations** mapping to S3 buckets
- **Auto Loader tables** for streaming ingestion
- **Cross-region views** for global analytics

## Example Queries

```sql
-- Global turbine performance
SELECT 
  region,
  COUNT(DISTINCT turbine_id) as turbine_count,
  AVG(power_output) as avg_power_mw,
  AVG(efficiency) as avg_efficiency
FROM wind_turbine_global_view
WHERE date = current_date()
GROUP BY region;

-- Maintenance alerts by region
SELECT 
  region,
  turbine_id,
  alert_type,
  severity,
  timestamp
FROM wind_turbine_maintenance_alerts
WHERE severity = 'CRITICAL'
  AND timestamp > current_timestamp() - INTERVAL 1 HOUR
ORDER BY timestamp DESC;

-- Regional compliance reporting
SELECT 
  date_trunc('day', timestamp) as day,
  COUNT(*) as reading_count,
  SUM(power_output) as total_power_mwh
FROM wind_turbine_eu
WHERE country_code IN ('DE', 'FR', 'ES')
GROUP BY 1
ORDER BY 1;
```

## Benefits of This Architecture

1. **Scalability**: Handles thousands of turbines across multiple regions
2. **Reliability**: S3 provides 99.999999999% durability
3. **Cost Efficiency**: Regional buckets minimize data transfer costs
4. **Real-time Analytics**: Auto Loader enables near real-time insights
5. **Compliance**: Regional data isolation for regulatory requirements
6. **Flexibility**: Multiple pipeline types for different use cases
7. **Unified View**: Unity Catalog provides single pane of glass