Name: LogGenerator
Type: daemon
Namespace: logging
Constraints:
  - Key: service
    Operator: ==
    Values:
      - web-server
Tasks:
  - Name: main
    Engine:
      Type: docker
      Params:
        Image: expanso/nginx-access-log-generator@sha256:d57e98dfe52d0945290c8eca7ceb35ba3ade9b0d8c851037225a387a4ba3d339
        Parameters:
          - --rate
          - "10"
          - --output-log-file
          - /app/output/application.log
    Resources:
      CPU: 0.1
      Memory: 512MB
    InputSources:
      - Target: /app/output
        Source:
          Type: localDirectory
          Params:
            SourcePath: /data/log-vending/logs
            ReadWrite: true
