name: Ship Detection Job
type: batch

constraints:
  - key: SATTELITE_NAME
    operator: '='
    values:
      - "{{ .SATELLITE_NAME }}"

labels:
  sattelite_number: "{{ .SATELLITE_NAME }}"


tasks:
  - name: Detect Ships
    engine:
      type: docker
      params:
        Image: kitsune242/detect
    InputSources:
      - Target: /mnt/local_files
        Source:
          Type: localdirectory
          Params:
            SourcePath: /mnt/local_files
            readWrite: true
    Resources:
      # CPU can be specified in cores (e.g. 1) or in milliCPU units (e.g. 250m or 0.25)
      CPU: 4000m
      
      # Memory highlights amount of RAM for a job. Can be specified in Kb, Mb, Gb, Tb
      Memory: 3Gb
      
      # Disk states disk storage space, needed for the task.
      Disk: 1000mb
